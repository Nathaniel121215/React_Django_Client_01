{"ast":null,"code":"import _defineProperty from\"C:/Users/nathaniel/Desktop/react_django_project/React_Django_Client_01/django_react_project/reactfront/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/nathaniel/Desktop/react_django_project/React_Django_Client_01/django_react_project/reactfront/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nathaniel/Desktop/react_django_project/React_Django_Client_01/django_react_project/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{getItems,addItem,updateItem,deleteItem}from'../axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Crud=function Crud(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),itemToEdit=_useState4[0],setItemToEdit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditing=_useState6[0],setIsEditing=_useState6[1];useEffect(function(){getItems().then(function(response){setItems(response.data);});},[]);var handleSubmit=function handleSubmit(item){if(isEditing){updateItem(itemToEdit.id,item).then(function(){setIsEditing(false);setItemToEdit({});getItems().then(function(response){setItems(response.data);});});}else{addItem(item).then(function(){getItems.then(function(response){setItems(response.data);});});}};var handleEdit=function handleEdit(item){setItemToEdit(item);setIsEditing(true);};var handleDelete=function handleDelete(itemId){deleteItem(itemId).then(function(){getItems().then(function(response){setItems(response.data);});});};return/*#__PURE__*/_jsxs(\"div\",{children:[isEditing?/*#__PURE__*/_jsx(EditItemForm,{item:itemToEdit,onSubmit:handleSubmit,onCancel:function onCancel(){return setIsEditing(false);}}):/*#__PURE__*/_jsx(AddItemForm,{onSubmit:handleSubmit}),/*#__PURE__*/_jsx(ItemList,{items:items,onEdit:handleEdit,onDelete:handleDelete})]});};var AddItemForm=function AddItemForm(_ref){var onSubmit=_ref.onSubmit;var _useState7=useState({name:'',description:''}),_useState8=_slicedToArray(_useState7,2),item=_useState8[0],setItem=_useState8[1];var handleChange=function handleChange(event){setItem(_objectSpread(_objectSpread({},item),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();onSubmit(item);setItem({name:'',description:''});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:item.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description\",value:item.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})]});};var EditItemForm=function EditItemForm(_ref2){var item=_ref2.item,onSubmit=_ref2.onSubmit,onCancel=_ref2.onCancel;var _useState9=useState(item),_useState10=_slicedToArray(_useState9,2),editedItem=_useState10[0],setEditedItem=_useState10[1];var handleChange=function handleChange(event){setEditedItem(_objectSpread(_objectSpread({},editedItem),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();onSubmit(editedItem);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:editedItem.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description\",value:editedItem.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:onCancel,children:\"Cancel\"})]});};var ItemList=function ItemList(_ref3){var items=_ref3.items,onEdit=_ref3.onEdit,onDelete=_ref3.onDelete;return/*#__PURE__*/_jsx(\"ul\",{children:items.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{children:[item.name,\" - \",item.description,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onEdit(item.id);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onDelete(item.id);},children:\"Delete\"})]},item.id);})});};export default Crud;","map":{"version":3,"names":["React","useState","useEffect","getItems","addItem","updateItem","deleteItem","Crud","items","setItems","itemToEdit","setItemToEdit","isEditing","setIsEditing","then","response","data","handleSubmit","item","id","handleEdit","handleDelete","itemId","AddItemForm","onSubmit","name","description","setItem","handleChange","event","target","value","preventDefault","EditItemForm","onCancel","editedItem","setEditedItem","ItemList","onEdit","onDelete","map"],"sources":["C:/Users/nathaniel/Desktop/react_django_project/React_Django_Client_01/django_react_project/reactfront/src/components/Crud.jsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { getItems, addItem, updateItem, deleteItem } from '../axios';\r\n\r\nconst Crud = () => {\r\n    const [items, setItems] = useState([]);\r\n  const [itemToEdit, setItemToEdit] = useState({});\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getItems().then((response) => {\r\n      setItems(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = (item) => {\r\n    if (isEditing) {\r\n      updateItem(itemToEdit.id, item).then(() => {\r\n        setIsEditing(false);\r\n        setItemToEdit({});\r\n        getItems().then((response) => {\r\n          setItems(response.data);\r\n        });\r\n      });\r\n    } \r\n    else {\r\n        addItem(item).then(() => {\r\n            getItems.then((response) => {setItems(response.data);});\r\n        })}};\r\n    \r\n    const handleEdit = (item) => {\r\n        setItemToEdit(item);\r\n        setIsEditing(true);\r\n        };\r\n    \r\n        const handleDelete = (itemId) => {\r\n        deleteItem(itemId).then(() => {\r\n            getItems().then((response) => {\r\n            setItems(response.data);\r\n            });\r\n        });\r\n        };\r\n    \r\n\r\n        \r\n  return (\r\n    <div>\r\n      {isEditing ? (\r\n        <EditItemForm\r\n          item={itemToEdit}\r\n          onSubmit={handleSubmit}\r\n          onCancel={() => setIsEditing(false)}\r\n        />\r\n      ) : (\r\n        <AddItemForm onSubmit={handleSubmit} />\r\n      )}\r\n      <ItemList items={items} onEdit={handleEdit} onDelete={handleDelete} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddItemForm = ({ onSubmit }) => {\r\n  const [item, setItem] = useState({ name: '', description: '' });\r\n\r\n  const handleChange = (event) => {\r\n    setItem({ ...item, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(item);\r\n    setItem({ name: '', description: '' });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Name\"\r\n        value={item.name}\r\n        onChange={handleChange}\r\n      />\r\n      <textarea\r\n        name=\"description\"\r\n        placeholder=\"Description\"\r\n        value={item.description}\r\n        onChange={handleChange}\r\n      />\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst EditItemForm = ({ item, onSubmit, onCancel }) => {\r\n  const [editedItem, setEditedItem] = useState(item);\r\n\r\n  const handleChange = (event) => {\r\n    setEditedItem({ ...editedItem, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(editedItem);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Name\"\r\n        value={editedItem.name}\r\n        onChange={handleChange}\r\n      />\r\n      <textarea\r\n        name=\"description\"\r\n        placeholder=\"Description\"\r\n        value={editedItem.description}\r\n        onChange={handleChange}\r\n      />\r\n      <button type=\"submit\">Save</button>\r\n      <button type=\"submit\" onClick={onCancel}>\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ItemList = ({ items, onEdit, onDelete }) => {\r\n    return (\r\n      <ul>\r\n        {items.map((item) => (\r\n          <li key={item.id}>\r\n            {item.name} - {item.description}\r\n            <button onClick={() => onEdit(item.id)}>Edit</button>\r\n            <button onClick={() => onDelete(item.id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  };\r\n\r\nexport default Crud;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}